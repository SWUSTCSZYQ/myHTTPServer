#  A simple Framework

​		主要包括日志系统和网络服务系统两个大的模块

## 日志系统

​		日志系统分为前端和后端两个部分，前端负责往后端写日志，后端负责将日志写入到磁盘中

###		前端

​		前端是由网络模块的IO线程组成，它们负责产生日志消息，并放入到缓冲区中。

###  后端

​		后端由多个缓冲区组成，当缓冲区满了或到了一定的时间就写入到文件中。缓冲区采用了muduo中的双缓冲区的思想，但实际上可能有多个缓冲区，缓冲区分为两组，一组接受IO线程产生的日志消息，当写满或者时间到了就和另一组交换指针，然后就把满的写入到文件中。

##  网络模块

​		网络模块预计包含三个部分：高性能http部分、分布式缓存、以及ORM模块，目前三个模块独立实现，并全部完成后再同一整合

###  高性能http部分（已完成）

- 网络模块解析了get、head请求，可处理静态资源，支持HTTP长连接支持管线化请求
- 使用了epoll边沿触发+EPOLLONESHOT+非阻塞IO
- 使用了一个固定线程数的线程池
- 实现了一个任务队列，由条件变量触发通知新任务的到来
- 实现了一个小根堆的定时器及时剔除超时请求，使用了STL的优先队列来管理定时器
- 解析了HTTP的get、post请求，支持长短连接
- 通过字典树实现动态路由的加载（单独实现，未整合）

###  分布式缓存(进行中)

- 最近最少访问(Least Recently Used, LRU) 缓存策略
- 使用一致性哈希选择节点，实现负载均衡

###  ORM模块（待实现）